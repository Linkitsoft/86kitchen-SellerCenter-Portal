"use strict";(self.webpackChunkpartnercenter=self.webpackChunkpartnercenter||[]).push([[697],{1743:(e,l,a)=>{a.d(l,{Z:()=>i});var s=a(7313),n=a(6417);const i=e=>{let{label:l,control:a,name:i,register:r,handleBlur:o,errors:d,hide:t}=e;const[c,u]=(0,s.useState)(!1);return(0,n.jsxs)("div",{children:[(0,n.jsx)("input",{control:a,...r(i),onBlur:()=>o(i),type:!1===c?"password":"text",name:i,placeholder:l}),d?(0,n.jsx)("div",{className:"verify_err",children:null===d||void 0===d?void 0:d.message}):null,!t&&(0,n.jsx)("i",{onClick:()=>u(!c),className:!1===c?"fa-regular showEye fa-eye-slash":"fa-regular showEye fa-eye"})]})}},6697:(e,l,a)=>{a.r(l),a.d(l,{default:()=>g});var s=a(7313),n=a(8467),i=a(9672),r=a(5805),o=a(8897),d=a(1743),t=a(9560),c=a(5627),u=a(2563),v=a(4135),p=a(4491),h=a(6417);const m=()=>{var e;const l=(0,n.s0)(),{setUser:a}=(0,o.a)(),[i,m]=(0,s.useState)(null),{control:g,handleSubmit:x,register:j,trigger:w,formState:{errors:y,isSubmitting:N}}=(0,c.cI)({defaultValues:{email:"",password:"",type:""},mode:"onBlur",resolver:(0,u.X)(r.bx)}),b=async e=>{try{await w(e)}catch(l){console.error(l)}};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"login_inputWrapper",children:(0,h.jsx)(t.Z,{label:"Email",placeholder:"Enter Email",name:"email",errors:null===y||void 0===y?void 0:y.email,control:g,handleBlur:b,isLabel:!0,register:j})}),(0,h.jsxs)("div",{className:"login_inputWrapper",children:[(0,h.jsx)("label",{htmlFor:"password",children:"Password"}),(0,h.jsx)(d.Z,{label:"Password",placeholder:"Password",name:"password",errors:null===y||void 0===y?void 0:y.password,control:g,handleBlur:b,register:j})]}),(0,h.jsx)("div",{className:"login_inputWrapper",children:(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{children:"Select Type"}),(0,h.jsxs)("select",{control:g,...j("type"),onBlur:()=>b("type"),name:"type",children:[(0,h.jsx)("option",{selected:!0,hidden:!0,value:"",children:"Select Type"}),(0,h.jsx)("option",{value:0,children:"Super Admin"}),(0,h.jsx)("option",{value:1,children:"Observant User"})]}),y.type?(0,h.jsx)("div",{className:"verify_err",children:null===y||void 0===y||null===(e=y.type)||void 0===e?void 0:e.message}):null]})}),i&&(0,h.jsx)("div",{className:"login_inputWrapper",children:(0,h.jsx)("div",{className:"login_err",children:i})}),N&&(0,h.jsx)("div",{className:"login_inputWrapper",children:(0,h.jsx)("div",{className:"login_err"})}),(0,h.jsx)("div",{className:"login_loginBtn",children:(0,h.jsx)("button",{disabled:N,onClick:x((async e=>{var l,s;m(null);const n=await(0,v.cL)(e);if("fail"===(null===n||void 0===n||null===(l=n.data)||void 0===l?void 0:l.status))return m("Invalid credentials"),p.Am.error("Invalid credentials");var i,r,o,d,t,c,u,h;"success"===(null===n||void 0===n||null===(s=n.data)||void 0===s?void 0:s.status)&&(0===(null===e||void 0===e?void 0:e.type)||"0"===(null===e||void 0===e?void 0:e.type)?(a("admin"),window.localStorage.setItem("token",null===n||void 0===n||null===(i=n.data)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.token),window.localStorage.setItem("userId",null===n||void 0===n||null===(o=n.data)||void 0===o||null===(d=o.data)||void 0===d?void 0:d.id),window.location.reload()):(a("user"),window.localStorage.setItem("token",null===n||void 0===n||null===(t=n.data)||void 0===t||null===(c=t.data)||void 0===c?void 0:c.token),window.localStorage.setItem("userId",null===n||void 0===n||null===(u=n.data)||void 0===u||null===(h=u.data)||void 0===h?void 0:h.id),window.location.reload()))})),children:N?"Please wait...":"Sign In"})}),(0,h.jsxs)("p",{className:"login_signup",children:["Don\u2019t have an account? ",(0,h.jsx)("span",{onClick:()=>l("/signup"),children:"Sign up"})]})]})},g=()=>{const e=(0,n.s0)();return(0,h.jsx)("div",{className:"login",children:(0,h.jsxs)("div",{className:"login_box",children:[(0,h.jsxs)("div",{className:"login_topHead",children:[(0,h.jsx)("img",{src:i,alt:"logo",onClick:()=>e("/home")}),(0,h.jsx)("p",{className:"head",children:"Partner Center"})]}),(0,h.jsx)("div",{className:"login_inputSection",children:(0,h.jsx)(m,{})})]})})}}}]);